{"version":3,"sources":["state_mgr/action_creators/actions.js","state_mgr/action_creators/index.js","components/header.js","components/add_edit_dialog.js","components/product_item.js","components/product_list.js","views/products.js","state_mgr/localstorage.js","App.js","state_mgr/reducers/reducer.js","state_mgr/store.js","reportWebVitals.js","index.js"],"names":["LOAD_PRODUCTS","REMOVE_PRODUCT","ADD_PRODUCT","EDIT_PRODUCT","loadProducts","products","dispatch","type","payload","removeProduct","product_id","addProduct","product","editProduct","AddNewDialog","props","useSelector","state","useDispatch","bindActionCreators","actionCreators","open","setOpen","useState","setProduct","price","setPrice","productErrorMsg","setProductErrorMsg","productError","setProductError","priceError","setPriceError","priceErrorMsg","setPriceErrorMsg","useEffect","length","isNaN","Dialog","aria-labelledby","DialogTitle","id","DialogContent","DialogContentText","TextField","label","variant","value","fullWidth","onChange","e","target","error","helperText","DialogActions","Button","onClick","color","Date","toISOString","autoFocus","disabled","MyStyledHeader","styled","Box","background","border","borderRadius","boxShadow","height","padding","Header","classes","useStyles","className","heading","Tooltip","title","Fab","aria-label","fab","prev","makeStyles","flex","textAlign","paddingTop","float","backgroundColor","AddEditDialog","productname","productid","date","root","maxWidth","margin","ProductItem","prices","currentLatestDateObject","priceIndex","forEach","Card","CardHeader","avatar","Avatar","name","action","IconButton","Typography","subheader","CardContent","map","key","Chip","size","CardActions","style","justifyContent","ProductList","console","log","Grid","container","spacing","result","item","index","entities","Products","Container","loadProductsState","a","localStorage","getItem","serializedState","undefined","JSON","parse","App","schema","Entity","myProductSchema","axios","then","response","normalizedProducts","normalize","data","stringify","setItem","err","saveProductsState","reducer","productIdToDelete","currentProductState","results","filter","productId","priceKeys","Object","keys","newPriceId","newProduct","productState","parseInt","concat","priceKeys1","newPriceId1","productProperties","myproduct","productStateEdit","store","createStore","applyMiddleware","thunk","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ecf87cfe.chunk.js","sourcesContent":["export const LOAD_PRODUCTS = 'LOAD_PRODUCTS';\r\nexport const REMOVE_PRODUCT = 'REMOVE_PRODUCT';\r\nexport const ADD_PRODUCT = 'ADD_PRODUCT';\r\nexport const EDIT_PRODUCT = 'EDIT_PRODUCT';","import { ADD_PRODUCT, EDIT_PRODUCT, LOAD_PRODUCTS, REMOVE_PRODUCT } from \"./actions\";\r\n\r\nexport const loadProducts = (products) => {\r\n    return (dispatch) => {\r\n        dispatch({\r\n            type: LOAD_PRODUCTS,\r\n            payload: products\r\n        })\r\n    }\r\n}\r\n\r\nexport const removeProduct = (product_id) => {\r\n    return (dispatch) => {\r\n        dispatch({\r\n            type: REMOVE_PRODUCT,\r\n            payload: product_id\r\n        });\r\n    }\r\n}\r\n\r\nexport const addProduct = (product) => {\r\n    return (dispatch) => {\r\n        dispatch({\r\n            type: ADD_PRODUCT,\r\n            payload: product\r\n        });\r\n    }\r\n}\r\n\r\nexport const editProduct = (product) => {\r\n    return (dispatch) => {\r\n        dispatch({\r\n            type: EDIT_PRODUCT,\r\n            payload: product\r\n        });\r\n    }\r\n}","import React,{useState, useEffect} from 'react';\r\nimport {Box, Fab, makeStyles, styled, Tooltip, Dialog, DialogTitle, DialogActions,DialogContent,DialogContentText, Button, TextField} from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport PropTypes from 'prop-types';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { actionCreators } from '../state_mgr';\r\nimport { bindActionCreators } from 'redux';\r\n\r\nfunction AddNewDialog(props) {\r\n    const state = useSelector((state) => state);\r\n    const dispatch = useDispatch();\r\n\r\n    const {addProduct} = bindActionCreators(actionCreators, dispatch);\r\n\r\n    const { open, setOpen } = props;\r\n    const [product, setProduct] = useState(\"\");\r\n    const [price, setPrice] = useState(0);\r\n    const [productErrorMsg, setProductErrorMsg] = useState(\"\");\r\n    const [productError, setProductError] = useState(false);\r\n\r\n    const [priceError, setPriceError] = useState(false);\r\n    const [priceErrorMsg, setPriceErrorMsg] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        if (product.length === 0){\r\n            //product can't be empty\r\n            setProductError(true);\r\n            setProductErrorMsg(\"Product can't be empty!\");\r\n            return;\r\n        }\r\n\r\n        if (price < 0){\r\n            setPriceError(true);\r\n            setPriceErrorMsg(\"Price cannot be a negative amount!\");\r\n            return;\r\n        }\r\n\r\n        if (price.length === 0){\r\n            setPriceError(true);\r\n            setPriceErrorMsg(\"Price cannot be empty!\");\r\n            return;\r\n        }\r\n\r\n        if (isNaN(price)){\r\n            setPriceError(true);\r\n            setPriceErrorMsg(\"Price is not a number!\");\r\n            return;\r\n        }\r\n\r\n        setProductError(false);\r\n        setProductErrorMsg(\"\");\r\n\r\n        setPriceError(false);\r\n        setPriceErrorMsg(\"\");\r\n    },[product, price])\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    }\r\n\r\n    const handleOkay = () => {\r\n        setOpen(false);\r\n        addProduct({\r\n            \"name\": product,\r\n            \"price\": price,\r\n            \"date\": new Date().toISOString()\r\n        });\r\n    }\r\n\r\n    return (\r\n      <Dialog aria-labelledby=\"add-new-title\" open={open}>\r\n        <DialogTitle id=\"add-new-title\">Add New Product</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n          \r\n            <TextField id=\"outlined-basic\" label=\"Product\" variant=\"outlined\" value={product} fullWidth onChange={(e)=>setProduct(e.target.value)}\r\n                error={productError} helperText={productErrorMsg}\r\n            />\r\n            \r\n            <TextField id=\"outlined-basic\" label=\"Enter Price ($)\" variant=\"outlined\" value={price} fullWidth onChange={(e)=>setPrice(e.target.value)} \r\n                error={priceError} helperText={priceErrorMsg}\r\n            />\r\n\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\" >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleOkay} color=\"primary\" autoFocus disabled={priceError || productError}>\r\n            Okay\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n  \r\n  AddNewDialog.propTypes = {\r\n    open: PropTypes.bool.isRequired,\r\n  }\r\n\r\n\r\n\r\nconst MyStyledHeader = styled(Box)({\r\n    background: 'hsla(19, 100%, 50%, 1)',\r\n    border: 0,\r\n    borderRadius: 3,\r\n    boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\r\n    color: 'white',\r\n    height: 48,\r\n    padding: '0 30px',\r\n    height: '100px'\r\n  });\r\n\r\nexport default function Header(){\r\n    const classes = useStyles();\r\n    const [open, setOpen] = useState(false);\r\n\r\n    return (\r\n        <MyStyledHeader>\r\n            <h1 className={classes.heading}>\r\n                mPharma Products\r\n            <Tooltip title=\"Add Product\">\r\n                <Fab color=\"secondary\" aria-label=\"add\" className={classes.fab} onClick={() => setOpen(prev => !prev)}>\r\n                    <AddIcon />\r\n                </Fab>\r\n            </Tooltip>\r\n            </h1>\r\n            <AddNewDialog open={open} setOpen={setOpen}/>\r\n        </MyStyledHeader>\r\n    );\r\n}\r\n\r\n\r\n\r\nconst useStyles = makeStyles({\r\n    heading: {\r\n        flex: 1,\r\n        textAlign: 'left',\r\n        paddingTop: 25\r\n    },\r\n    fab: {\r\n        float: 'right',\r\n        backgroundColor: 'white',\r\n        color: 'hsla(19, 100%, 50%, 1)',\r\n        '&:hover': {\r\n            backgroundColor: 'hsla(151, 0%, 63%, 1)',\r\n        }\r\n    }\r\n});\r\n\r\n\r\n","import React, {useState, useEffect} from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { actionCreators } from '../state_mgr';\r\nimport { bindActionCreators } from 'redux';\r\nimport {Dialog, DialogTitle, DialogActions,DialogContent,DialogContentText, Button, TextField} from '@material-ui/core';\r\n\r\n\r\nexport default function AddEditDialog(props) {\r\n    const dispatch = useDispatch();\r\n\r\n    const {editProduct} = bindActionCreators(actionCreators, dispatch);\r\n\r\n    const { open, setOpen, productname, productid } = props;\r\n    const [product, setProduct] = useState(productname);\r\n    const [productErrorMsg, setProductErrorMsg] = useState(\"\");\r\n    const [productError, setProductError] = useState(false);\r\n\r\n    const [priceError, setPriceError] = useState(false);\r\n    const [priceErrorMsg, setPriceErrorMsg] = useState(\"\");\r\n    const [price, setPrice] = useState(0);\r\n\r\n    useEffect(() => {\r\n        if (product.length === 0){\r\n            //product can't be empty\r\n            setProductError(true);\r\n            setProductErrorMsg(\"Product can't be empty!\");\r\n            return;\r\n        }\r\n\r\n        if (price < 0){\r\n            setPriceError(true);\r\n            setPriceErrorMsg(\"Price cannot be a negative amount!\");\r\n            return;\r\n        }\r\n\r\n        if (price.length === 0){\r\n            setPriceError(true);\r\n            setPriceErrorMsg(\"Price cannot be empty!\");\r\n            return;\r\n        }\r\n\r\n        if (isNaN(price)){\r\n            setPriceError(true);\r\n            setPriceErrorMsg(\"Price is not a number!\");\r\n            return;\r\n        }\r\n\r\n        setProductError(false);\r\n        setProductErrorMsg(\"\");\r\n\r\n        setPriceError(false);\r\n        setPriceErrorMsg(\"\");\r\n    },[product, price])\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    }\r\n\r\n    const handleOkay = () => {\r\n        setOpen(false);\r\n        editProduct({\r\n            product_id: productid,\r\n            product: productname,\r\n            date: new Date().toISOString(),\r\n            price, price\r\n        })\r\n    }\r\n\r\n    return (\r\n      <Dialog aria-labelledby=\"add-new-title\" open={open}>\r\n        <DialogTitle id=\"add-new-title\">Edit Product ({productname})</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n          \r\n            <TextField id=\"outlined-basic\" \r\n                label=\"Product\" variant=\"outlined\" value={product} fullWidth onChange={(e)=>setProduct(e.target.value)}\r\n                error={productError} helperText={productErrorMsg}\r\n                />\r\n            <TextField id=\"outlined-basic\" label=\"Enter Price\" value={price} variant=\"outlined\" fullWidth onChange={(e)=>setPrice(e.target.value)} \r\n                error={priceError} helperText={priceErrorMsg}\r\n                />\r\n\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleOkay} color=\"primary\" autoFocus disabled={priceError || productError}>\r\n            Okay\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n  \r\n  AddEditDialog.propTypes = {\r\n    open: PropTypes.bool.isRequired,\r\n  }","import React,{useState} from 'react';\r\nimport {Card, makeStyles, Tooltip, CardContent, CardHeader, Avatar, IconButton, CardActions, Chip, Typography } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport CreateIcon from '@material-ui/icons/Create';\r\nimport AddEditDialog from './add_edit_dialog';\r\nimport { useDispatch } from 'react-redux';\r\nimport { actionCreators } from '../state_mgr';\r\nimport { bindActionCreators } from 'redux';\r\nimport { removeProduct } from '../state_mgr/action_creators';\r\n\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n      maxWidth: 250,\r\n      margin: 15\r\n    },\r\n  });\r\n\r\nexport default function ProductItem({product, prices}){\r\n    const [open, setOpen] = useState(false);\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n\r\n    let currentLatestDateObject = {\r\n                                    date:prices[product.prices[0]]?.date,\r\n                                    priceIndex: product.prices[0]\r\n                                    }\r\n    \r\n    const {removeProduct} = bindActionCreators(actionCreators, dispatch);                                \r\n    product.prices.forEach((priceIndex) => { \r\n        if (new Date(currentLatestDateObject.date) < new Date(prices[priceIndex].date)){\r\n            currentLatestDateObject.date = prices[priceIndex].date;\r\n            currentLatestDateObject.priceIndex = priceIndex;\r\n        } \r\n    })\r\n\r\n    const handleEditProduct = () => {\r\n        setOpen(true); //open the dialog box to edit product\r\n    }\r\n\r\n    const handleDelete = () => {\r\n        \r\n        removeProduct({\r\n            product_id: product.id\r\n        });\r\n    }\r\n\r\n\r\n    return (\r\n        <Card className={classes.root}>\r\n            <CardHeader\r\n                avatar={\r\n                <Avatar aria-label=\"recipe\" className={classes.avatar}>\r\n                    {product.name[0]}\r\n                </Avatar>\r\n                }\r\n                action={\r\n                    <Tooltip title=\"Delete\">\r\n                    <IconButton aria-label=\"close\" onClick={() => handleDelete()}>\r\n                        <CloseIcon />\r\n                    </IconButton>\r\n                    </Tooltip>\r\n                }\r\n                title={<Typography color={\"secondary\"}>{product.name}</Typography>}\r\n                subheader={<Typography color={\"primary\"}>${prices[currentLatestDateObject.priceIndex].price}</Typography>}\r\n            />\r\n\r\n            <CardContent>\r\n                <Typography>Previous Prices</Typography>\r\n                {\r\n                    product.prices.map((priceIndex, key) => \r\n                        {\r\n                            if (priceIndex === currentLatestDateObject.priceIndex) return; \r\n                            return (\r\n                                <Tooltip title={`previous price @ ${prices[priceIndex].date}`}>\r\n                                    <Chip key={key} label={`$${prices[priceIndex].price}`} disabled size=\"small\" variant=\"outlined\"/>\r\n                                </Tooltip>\r\n                            )\r\n                        })\r\n                    \r\n                }\r\n            </CardContent>\r\n            <CardActions style={{justifyContent: 'flex-end'}}>\r\n                <Tooltip title=\"Edit Product\">\r\n                    <IconButton aria-label=\"Edit Product\" onClick={() => handleEditProduct() } >\r\n                        <CreateIcon />\r\n                    </IconButton>\r\n                </Tooltip>\r\n            </CardActions>\r\n            <AddEditDialog open={open} setOpen={setOpen} productname={product.name} productid={product.id}/>\r\n        </Card>\r\n    );\r\n}","import { Grid } from '@material-ui/core';\r\nimport React from 'react';\r\nimport ProductItem from './product_item';\r\nimport { useSelector } from 'react-redux';\r\n\r\n\r\nexport default function ProductList(){\r\n    const state = useSelector((state) => state);\r\n\r\n    console.log(\"current State!!!\");\r\n    console.log(state);\r\n\r\n    return (\r\n        <div style={{ padding: 20 }}>\r\n            <Grid container spacing={5}>\r\n                {\r\n                    state.result && state.result?.map(item => \r\n                        <ProductItem key={item} index={item} product={state.entities.products[item]} prices={state.entities.prices} />)\r\n                }\r\n                \r\n            </Grid>\r\n        </div>\r\n    );\r\n}","import { Container } from '@material-ui/core';\r\nimport React from 'react';\r\nimport Header from '../components/header';\r\nimport ProductList from '../components/product_list';\r\n\r\nexport default function Products(){\r\n\r\n    return (\r\n        <Container maxWidth=\"lg\">\r\n            <Header />\r\n            <ProductList />\r\n        </Container>\r\n    );\r\n}","export const saveProductsState = (state) => {\r\n    try {\r\n      const serializedState = JSON.stringify(state);\r\n      localStorage.setItem('productsState', serializedState);\r\n    } catch(err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const loadProductsState = async () => {\r\n\r\n    try {            \r\n        const serializedState = await localStorage.getItem('productsState');\r\n        if (serializedState === null) {\r\n            return undefined;\r\n        }\r\n        return JSON.parse(serializedState);\r\n\r\n    } catch (err) {\r\n        return undefined;\r\n    }\r\n};\r\n\r\nexport const isLocalStorageEmpty = () => {\r\n    return localStorage.getItem(\"productsState\") === null;\r\n}","import './App.css';\nimport Products from './views/products';\nimport {loadProductsState, saveProductsState, isLocalStorageEmpty } from './state_mgr/localstorage';\nimport { normalize, schema } from 'normalizr';\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { actionCreators } from './state_mgr';\nimport { useEffect } from 'react';\nimport axios from 'axios';\n\n\nfunction App() {\n\n  const state = useSelector((state) => state);\n  const dispatch = useDispatch();\n\n  const {loadProducts} = bindActionCreators(actionCreators, dispatch);\n\n  const price = new schema.Entity('prices');\n  const myProductSchema = new schema.Entity('products', {\n    prices: [price]\n  });\n  \n  useEffect(() => {\n    //check if localstorage is empty ...\n    if (isLocalStorageEmpty()){\n      axios(\"http://www.mocky.io/v2/5c3e15e63500006e003e9795\").then((response) => {\n        \n        const normalizedProducts = normalize(response.data.products, [myProductSchema]);\n        loadProducts(normalizedProducts);\n\n      });\n    }else{\n\n      //load from localstorage ....\n      loadProductsState().then(response => loadProducts(response));\n\n    }\n    \n  },[]);\n\n  useEffect(() => {\n    //save new state on every state change to localstorage \n    if (state !== {})\n      saveProductsState(state);\n\n  }, [state]);\n\n  return (\n    <div className=\"App\">\n      <Products />\n    </div>\n  );\n}\n\nexport default App;\n","import {\r\n  LOAD_PRODUCTS,\r\n  REMOVE_PRODUCT,\r\n  ADD_PRODUCT,\r\n  EDIT_PRODUCT\r\n} from '../action_creators/actions';\r\n\r\nconst reducer = (state, action) => {\r\n  \r\n  switch(action.type){\r\n\r\n    case LOAD_PRODUCTS:\r\n      \r\n    return {\r\n      ...state,\r\n      entities: action.payload.entities,\r\n      result: action.payload.result\r\n    }\r\n\r\n    case REMOVE_PRODUCT: //just remove the product not the price\r\n      \r\n      let productIdToDelete = action.payload.product_id;\r\n      let currentProductState = state.entities;\r\n      delete currentProductState.products[productIdToDelete]\r\n      let results = state.result;\r\n      results = results.filter(item => item !== productIdToDelete);\r\n\r\n\r\n    return {\r\n      ...state,\r\n      entities : currentProductState,\r\n      result: results\r\n    } \r\n\r\n    case ADD_PRODUCT:\r\n      let product = action.payload;\r\n      let productId = state.result[state.result.length - 1] + 1;\r\n      let priceKeys = Object.keys(state.entities.prices);\r\n\r\n      let newPriceId =state.entities.prices[priceKeys.length].id + 1;\r\n      let newProduct = {id: productId, name: product.name, prices: [newPriceId]};\r\n\r\n      let productState = {...state.entities};\r\n      productState.products[productId] = newProduct;\r\n      productState.prices[newPriceId] = {id: newPriceId, price: parseInt(product.price), date: product.date}\r\n      \r\n      return {\r\n        ...state,\r\n        entities: productState,\r\n        result: state.result.concat(productId)\r\n      }\r\n\r\n  \r\n\r\n    case EDIT_PRODUCT: //modify both product and price via id\r\n      let priceKeys1 = Object.keys(state.entities.prices);\r\n      let newPriceId1 =state.entities.prices[priceKeys1.length].id + 1;\r\n      \r\n      let productProperties = action.payload;\r\n      let myproduct = state.entities.products[productProperties.product_id];\r\n\r\n      let productStateEdit = {...state.entities};\r\n      productStateEdit.prices[newPriceId1] = {id: newPriceId1, price: parseInt(productProperties.price), date: productProperties.date}\r\n      productStateEdit.products[productProperties.product_id] = {id: productProperties.product_id, name: productProperties.product, prices:[...myproduct.prices, newPriceId1] };\r\n      \r\n      \r\n\r\n    return {\r\n      ...state,\r\n      entities: productStateEdit,\r\n    }\r\n  }\r\n  \r\n    return state\r\n  }\r\n\r\nexport default reducer;","import {createStore, applyMiddleware} from 'redux';\r\nimport reducer from './reducers/reducer';\r\nimport thunk from \"redux-thunk\";\r\n\r\n\r\n//initial state goes here\r\nconst initialState = {};\r\nexport const store = createStore(reducer, initialState, applyMiddleware(thunk));\r\n\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from \"react-redux\";\nimport { store } from \"./state_mgr/store\";\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}